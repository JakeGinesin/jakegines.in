<!DOCTYPE html>
<head>
  <title>jakeg -> notes -> k8</title>
  <link rel="preload stylesheet" as="style" type="text/css" href="../css/fonts.css" />
  <link rel="preload stylesheet" as="style" type="text/css" href="../css/main.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta charset="UTF-8">
  <link rel="icon" type="image/png" sizes="32x32" href="../assets/icons/jake32.png"/>
  <link rel="icon" type="image/png" sizes="16x16" href="../assets/icons/jake16.png"/>
  <link rel="stylesheet" href="../css/wide.css">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta charset="UTF-8">
  <meta property="og:type" content="website"/>
  <meta property="og:image" content="https://jakegines.in/jake512"/>
</head>
<style>
  a{
    color: #8cade6;
  }
</style>
<body>
    <div class="container">
    <div class="middle">
      <div class="content">
        <p>
        <a href="/notes"><span class="arrow">&larr;&nbsp;</span>notes</a>
        </p>
        <h1 style="margin-bottom:10px;"><span style="color: #8cade6">k8</span></h1>
        <div>
Kubernetes: Container orchestration. Uses the primary/replica model.
<br> 
<br> 
<h2 class='header unselectable' style='margin-top:2px; margin-bottom:8px;' id='Links'>Links</h2> 
• <a href="https://en.wikipedia.org/wiki/Kubernetes" target="_blank">Wikipedia</a>
<br> 
<br> 
<h2 class='header unselectable' style='margin-top:2px; margin-bottom:8px;' id='Commands'>Commands</h2> 
• <code class="highlighter-rouge" data-lang="text">kubectl get nodes</code> -> list all cluster nodes
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl describe nodes</code> -> gives detailed node info
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl get namespaces</code> -> describes all namespaces in the cluster
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl get pods --all-namespaces</code> -> get pods in namespaces
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl get pods -n [namespace]</code> -> get shit in the given namespace
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl get deployments --all-namespaces</code> -> list all deployments lol
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl get statefulset --all-namespaces</code> -> lists all statefulsets
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl top pods --all-namespaces</code> -> gets the top pods lol. also, can work with <code class="highlighter-rouge" data-lang="text">nodes</code> too
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl get events --all-namespaces</code> -> gets all events
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl get services</code> -> get all services
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl describe service <service-name></code> -> describe a service lol
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl get secrets --all-namespaces</code> -> list all secrets, used for storing sensitive data like passwords and keys etc
<br> 
• <code class="highlighter-rouge" data-lang="text">kubektl delete pods -l app=[app] -n [namespace]</code> -> delete pods lol
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl exec -it [pod name] -n [namespace] -- /bin/sh</code> -> exec a shell in the docker container of the pod
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl logs -n [namespace] [pod-name]</code> -> get logs and stuff
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl get secret [secret] -o yaml</code> -> get some secret, output it to yaml. you will have to decode the password and shit.
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl get services -w</code> -> watch the services
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl delete service [service]</code> -> deletes a service
<br> 
• <code class="highlighter-rouge" data-lang="text">kubectl delete -f [file]</code> -> delete a configuration file
<br> 
<br> 
<h2 class='header unselectable' style='margin-top:2px; margin-bottom:8px;' id='Concepts'>Concepts</h2> 
• Control Plane: master node, which manages workload across the whole system
<br> 
    - API server: serves the kubernetes API
<br> 
    - scheduler
<br> 
• Nodes: a machine where containers/workloads are deployed
<br> 
    - contains kubelet, nameserver, etc
<br> 
• Pod: multiple pods in a node.
<br> 
    - ReplicaSet: a replica of the current applications
<br> 
    - StatefulSets: controller that enforce uniqueness etc among pods
<br> 
<br> 
<h2 class='header unselectable' style='margin-top:2px; margin-bottom:8px;' id='Nextcloud'>Nextcloud</h2> 
• <a href="https://medium.com/@laurent.roffe_24715/first-nextcloud-deployment-in-k8s-manual-full-steps-eca2566751e7" target="_blank">medium.com/@laurent.roffe_24715/first-nextcloud-deployment-in-k8s-manual-full-steps-eca2566751e7</a>
<br> 
• falco: <a href="https://xmlisse.wordpress.com/2023/04/27/falco/" target="_blank">xmlisse.wordpress.com/2023/04/27/falco/</a>
<br> 
    - note with falco, we need to install the falco kernel module on all our things. reference this: <a href="https://falco.org/docs/getting-started/falco-kubernetes-quickstart/" target="_blank">falco.org/docs/getting-started/falco-kubernetes-quickstart/</a>
<br> 
        </div>
        <br>
      </div>
    </div>
  </div>
</body>

